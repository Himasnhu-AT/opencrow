(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39629,e=>{"use strict";var t=e.i(16378),s=e.i(67169);function l(){let[e,l]=(0,s.useState)([]),[a,r]=(0,s.useState)(!1),[o,n]=(0,s.useState)({name:"",openApiUrl:"",baseUrl:""}),c=async()=>{let t=`prod_${Date.now()}`;try{await fetch("http://localhost:3001/api/config/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),l([...e,{id:t,...o,createdAt:new Date().toISOString()}]),r(!1),n({name:"",openApiUrl:"",baseUrl:""})}catch(e){console.error("Failed to create product",e),alert("Failed to create product. Is backend running?")}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Products"}),(0,t.jsx)("button",{onClick:()=>r(!0),className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700",children:"+ New Product"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[0===e.length&&(0,t.jsx)("div",{className:"col-span-full text-center text-gray-500 py-10",children:"No products yet. Create one to get started!"}),e.map(e=>(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["ID: ",e.id]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"API Spec:"}),(0,t.jsx)("p",{className:"text-gray-600 truncate",title:e.openApiUrl,children:e.openApiUrl})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Base URL:"}),(0,t.jsx)("p",{className:"text-gray-600 truncate",title:e.baseUrl,children:e.baseUrl})]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Embed Code:"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-x-auto",children:`<script
  src="http://localhost:5173/ai-agent-widget.umd.js"
  data-product-id="${e.id}"
  data-api-url="http://localhost:3001"
></script>`})]})]},e.id))]}),a&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Create New Product"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"product-name",children:"Product Name"}),(0,t.jsx)("input",{id:"product-name",type:"text",value:o.name,onChange:e=>n({...o,name:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"My E-commerce Store",autoComplete:"off"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"openapi-url",children:"OpenAPI Spec URL"}),(0,t.jsx)("input",{id:"openapi-url",type:"url",value:o.openApiUrl,onChange:e=>n({...o,openApiUrl:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"http://localhost:8000/openapi.yaml",autoComplete:"off"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"base-url",children:"API Base URL"}),(0,t.jsx)("input",{id:"base-url",type:"url",value:o.baseUrl,onChange:e=>n({...o,baseUrl:e.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"http://localhost:3002",autoComplete:"off"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>r(!1),className:"flex-1 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50",type:"button",children:"Cancel"}),(0,t.jsx)("button",{onClick:c,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",type:"button",children:"Create"})]})]})})]})})}e.s(["default",()=>l])}]);